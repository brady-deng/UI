Date:20180914
Finished work:
1.SVM分类器参数最优化问题2.尝试了Decision Tree与Extreme Tree，但是参数由于不了解尚不能确定3.尝试了包含Decision Tree与Extreme Tree的Adaboost，但是元分类器尚不能确定4.以上具体参数可以参看github上的SAHS日志
Problems to be solved:
1.SVM结果可以，但是需要额外确认参数，而且训练时间长
2.两种决策树的结果值得参考，可以使用分类器集成的方法提升性能
3.加入AHI计算，与人工标注对比

Date:20180915
Finished work:
1. 取得CART决策树超参数寻优结果

Problems to be solved:
1. 仍然是考虑通过分类器集成的方法提升最后的分类性能
2. 还未将AHI计算加入程序之中

Date:20180917
Finished work:
1. 取得几种常用分类器超参数寻优结果
2. 取得几种常用分类器集合超参数寻优结果
3. AHI计算
4. 最后待考虑的base estimator有SVM、Decision Tree、Extratree，集成方法都可以

Problems to be solved:
1. AHI计算的训练测试方式，如何切割数据集？
2. classifier voting的方式还没有测试
3. 应该尽量避免SVM方法，一方面需要额外确定参数，另外一方面计算量比较大

Date:20180918
Finished work:
1.组会
2.AHI计算

Problems to be solved:
算的不准

Date:20180919
Finished work:
1. 更改切割分段方式，采用主动对齐的方式同时将切割窗口缩小，这样可以提高对AHI的分辨率。


Problems to be solved:
1.亟待找出更具有表征性的流量信号特征，找出适用于该种切割方式的新特征！！！！！

Date:20180920
Problems to be solved:
1. 亟待找出对阳性样本更具表征性的特征，目前精准率太低
2. 思考apnea检测的方法

Date:20180922
Finished work:
1. python中实现统计ahi区间统计功能
2. 对照区间预测结果与标签数据总结错误分类原因，同时结合训练出的决策树添加必要判断依据
3. 添加呼吸相统计数据作为特征，但是还没有对该特征进行测试

Problems to be solved:
1. ahi区间预测的精准率太低，需要对hapnea更具有表征性的特征，尤其是对于呼吸流量通道信号。

Date:20180924
Finished work:
1. 采用60s片段6特征数据进行训练与ahi区间定位可以实现100的召回率，但是精准率不足，对于片段的测试性能为84+94+65.
2. 采用30s片段6特征数据进行训练与ahi区间定位效果并不好，主要是精准率不足，只能达到百分之四十左右的精准率。

Problems to be solved:
1. 是不是可以通过分类器级联的方式实现ahi区间的精准定位？
2. 是不是还可以找到对阳性样本更具有表征性的特征，直接适用于断片段信号？
3. 级联分类器的函数今天不知道能不能够写完

Date:20180925
Finished work:
1. 要注意在数据预处理（precessversion2）中tao的影响，对于60s片段无tao的性能会比有tao的性能好一些。注意思考级联分类的数据、分类器之间的关系。2. 纠正了级联分类之中的一些程序错误，确保结果可靠，目前存在的主要问题是召回率很可靠，但是精准率不足，不到60，会造成ahi错误，亟待解决。
Problems to be solved:
2. 如何在保证召回率的情况下提高AHI区间的准确率问题。目前通过级联分类器可以保证ahi区间的识别召回率，但是精准率太低

Date:20180926
Finished work:
['1. 完成级联分类器训练与测试函数，测试了多组决策树超参数。\n']
Problems to be solved:
['1. 考虑在训练测试的过程中加入交叉训练的过程，同时需要注意几折训练过程中的各类样本分布\n2. 考虑推广到数据库中的所有样本\n']
Date:20180927
Problems to be solved:
['结果不能够复现，还不知道问题出在哪里，交叉训练的过程可能也存在问题\n', ['2. 1号问题已经解决，目前待解决的问题为级联分类器的超参数确定问题以及更具表征性的特征问题，尤其是寻找更具表征性的特征尤为紧迫。\n']]
Finished work:
[['1. 修复clfcastrain和clfcastest中的若干bug。\n'], ['2. 目前可以实现单被试的K折交叉训练，但是交叉训练的结果并不是很理想，具体可以参考log927.json文件，大致可以实现70+70的AHI区间定位。\n']]
Date:20180928
Finished work:
['1. 修复若干程序中的bug，目前最好的结果是采用无tao的60s窗口数据（f60-7）结合15stao的20s窗口数据（f20-7），可以取得一个还看得过去的的结果。\n']
Problems to be solved:
[['1. 如何捕捉血氧变化趋势与流量变化趋势，对于apnea区间，血氧、流量的总体变化趋势是下降的，对于目前易混淆的区间血氧流量总体趋势是上升的，尤其以血氧变化明显。\n']]
Date:20181006
Problems to be solved:
['1. AHI最后的评价指标有问题。\n2. 级联分类器的思路方法可能会有一些问题，主要是在于最后miss的AHI片段有一部分都是由于60s窗口漏筛的。\n', ['3.接2，会存在60s窗口漏筛的情况，而且在最终的结果中会占到很大部分。\n'], ['4.需要针对分类错误的样本进行针对性的分析，挖掘更可靠的特征。\n'], ['6.可以考虑决策树给出的probablity，进一步提高正阳率，只是一个思路。\n']]
Finished work:
[['1.分段抽样构成样本的学习、训练结果会由于直接分段的学习、训练结果。\n2.针对于待解决问题中的2与3，初步的解决方法是增大阳性样本的权重，使得分类方法对于阳性样本更加敏感，保证正阳率。\n3.在上述方法的基础之上，两颗决策树的参数设置为100，150，30，50，50，30的时候ahi结果可喜，但是需要注意的是对片段的分类结果正确率以及ahi区间分类的精准率。\n']]
Date:20181007
Finished work:
['1. 一层决策树的类权重在1，200，二层决策树的类权重在1，5的时候取得的结果可喜。\n2. \n', ['1. 一层决策树的类权重在1，200，二层决策树的类权重在1，5的时候取得的结果可喜。\n2. 结果不能够复现有可能是由于训练方法造成的，暂时认为影响不大主要是因为结果相差不是很大。待定。\n3. 到目前为止解决问题的思路应该是先通过超参数寻优结果确定树的超参数，在然后观察级联分类器的分类结果分析改进方向\n'], ['1. 一层决策树的类权重在1，200，二层决策树的类权重在1，5的时候取得的结果可喜。\n2. 结果不能够复现有可能是由于训练方法造成的，暂时认为影响不大主要是因为结果相差不是很大。待定。\n3. 到目前为止解决问题的思路应该是先通过超参数寻优结果确定树的超参数，在然后观察级联分类器的分类结果分析改进方向\n \n\n']]
Problems to be solved:
['1. 建立个性化模型是否必要？如果必要，如何解决某些被试中阳性样本数极少的情况？\n2. 确定两颗树的超参数，需要注意的是超参数的确定应该是根据片段的分类结果而确定的，而不应该由ahi区间的分类结果而确定。\n3. 试着确定最后选择的具体特征。\n4. 有一部分结果不能够复现出来，还不知道是为什么\n', ['1. 建立个性化模型是否必要？如果必要，如何解决某些被试中阳性样本数极少的情况？\n2. 确定两颗树的超参数，需要注意的是超参数的确定应该是根据片段的分类结果而确定的，而不应该由ahi区间的分类结果而确定。\n3. 试着确定最后选择的具体特征。\n4. 有一部分结果不能够复现出来，还不知道是为什么\n']]
Date:20181008
Finished work:
['1. 最后我们关注的指标应该是ahi区间的判断准确性以及片段的判断准确性，而目前来说片段的判断准确性还不够理想，ahi区间还ok，但是有可能是因为之前提到的判断误差造成的。\n', ['2. 应该不用纠结和之前的超参数训练结果不一样的问题，应该是由于前后的训练方法不同造成的。\n'], ['3. 使用随机森林对的方法的结果会好一些，但是需要改良的就是在20s窗口时的性能。\n'], ['5. 完善了数据库程序\n']]
Problems to be solved:
[['1. 片段分类结果以及ahi区间分类精准率不理想。\n'], ['2. 现在的主要问题在于通过60s窗口可以筛出大部分ahi区间，但是20s窗口的召回率与精准率不能同时满足，最后得到的级联分类器的片段分类结果效果不理想，区间的分类结果召回率很高，精准率太低。\n'], ['3. 需要集中解决20s窗口的识别性能，识别率太低，影响了整个流程的表现。\n'], ['4. 找特征\n']]
测试:
[['111\n']]
